name: MoneroOne
options:
  bundleIdPrefix: one.monero
  deploymentTarget:
    iOS: "26.0"
  xcodeVersion: "16.0"
  createIntermediateGroups: true

settings:
  base:
    DEVELOPMENT_TEAM: ""
    CODE_SIGN_STYLE: Automatic

packages:
  MoneroKit:
    url: https://github.com/horizontalsystems/MoneroKit.Swift.git
    exactVersion: 0.1.13
  HdWalletKit:
    url: https://github.com/horizontalsystems/HdWalletKit.Swift.git
    exactVersion: 1.3.0

targets:
  MoneroOne:
    type: application
    platform: iOS
    sources:
      - MoneroOne
    dependencies:
      - package: MoneroKit
      - package: HdWalletKit
    settings:
      base:
        INFOPLIST_GENERATION_MODE: GeneratedFile
        INFOPLIST_KEY_UIApplicationSceneManifest_Generation: true
        INFOPLIST_KEY_UIApplicationSupportsIndirectInputEvents: true
        INFOPLIST_KEY_UILaunchScreen_Generation: true
        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPhone: "UIInterfaceOrientationPortrait UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight"
        INFOPLIST_KEY_CFBundleDisplayName: "Monero One"
        INFOPLIST_KEY_NSCameraUsageDescription: "Camera is used to scan QR codes"
        INFOPLIST_KEY_NSFaceIDUsageDescription: "Face ID is used to unlock your wallet"
        MARKETING_VERSION: "1.0.0"
        CURRENT_PROJECT_VERSION: "1"
        GENERATE_INFOPLIST_FILE: true
        SWIFT_EMIT_LOC_STRINGS: true
        ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME: AccentColor

  MoneroOneTests:
    type: bundle.unit-test
    platform: iOS
    sources:
      - MoneroOneTests
    dependencies:
      - target: MoneroOne
    settings:
      base:
        GENERATE_INFOPLIST_FILE: true

  MoneroOneUITests:
    type: bundle.ui-testing
    platform: iOS
    sources:
      - MoneroOneUITests
    dependencies:
      - target: MoneroOne
    settings:
      base:
        GENERATE_INFOPLIST_FILE: true
        TEST_TARGET_NAME: MoneroOne

schemes:
  MoneroOne:
    build:
      targets:
        MoneroOne: all
        MoneroOneTests: [test]
        MoneroOneUITests: [test]
    test:
      targets:
        - MoneroOneTests
        - MoneroOneUITests
